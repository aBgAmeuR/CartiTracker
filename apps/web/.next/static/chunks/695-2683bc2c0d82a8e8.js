"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[695],{6337:(e,s,l)=>{l.d(s,{ScrollArea:()=>c,ScrollBar:()=>i});var t=l(4568),a=l(7620),r=l(4243),n=l(2233);let c=a.forwardRef((e,s)=>{let{className:l,children:a,...c}=e;return(0,t.jsxs)(r.bL,{ref:s,className:(0,n.cn)("relative overflow-hidden",l),...c,children:[(0,t.jsx)(r.LM,{className:"size-full rounded-[inherit]",children:a}),(0,t.jsx)(i,{}),(0,t.jsx)(r.OK,{})]})});c.displayName=r.bL.displayName;let i=a.forwardRef((e,s)=>{let{className:l,orientation:a="vertical",...c}=e;return(0,t.jsx)(r.VM,{ref:s,orientation:a,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-px","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-px",l),...c,children:(0,t.jsx)(r.lr,{className:"bg-border relative flex-1 rounded-full"})})});i.displayName=r.VM.displayName},9895:(e,s,l)=>{l.d(s,{TrackTable:()=>z});var t=l(4568),a=l(7620),r=l(4414);let n=(0,r.A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var c=l(3272),i=l(1704),d=l(9528);let o=(0,r.A)("ListMinus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);var x=l(3418);let m=(0,r.A)("ArrowUpAZ",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]]),u=(0,r.A)("ArrowUpZA",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M15 4h5l-5 6h5",key:"8asdl1"}],["path",{d:"M15 20v-3.5a2.5 2.5 0 0 1 5 0V20",key:"r6l5cz"}],["path",{d:"M20 18h-5",key:"18j1r2"}]]);var p=l(4621),h=l.n(p),f=l(4458),y=l(1975),j=l(5428),b=l(6541);let N=(0,b.createServerReference)("409b02d1de0c2d8b7cfefb388b737c9e5e9b79265e",b.callServer,void 0,b.findSourceMapURL,"deleteSongAction"),v=(0,b.createServerReference)("60efebe347c9011bbd38a1fcfc8343576810a3da82",b.callServer,void 0,b.findSourceMapURL,"deleteSongFromPlaylistAction"),g=(0,b.createServerReference)("601bed3c836eddf523c251be7fdbb5f43392e93cd4",b.callServer,void 0,b.findSourceMapURL,"addToPlaylistAction");var k=l(9130),w=l(4051),S=l(2233);let A=j._.NEXT_PUBLIC_DEVELOPMENT;function M(e){let{track:s,index:l,query:r,isSelected:m,onSelect:u,playlistId:p}=e,{currentTrack:j,playTrack:b,togglePlayPause:M,isPlaying:z,setActivePanel:C,handleKeyNavigation:P}=(0,k.N)(),{playlists:_}=(0,w.W)(),[E,L]=(0,a.useState)(!1),R=(null==j?void 0:j.name)===s.name;return(0,t.jsxs)("tr",{className:"group relative cursor-pointer select-none hover:bg-[#1A1A1A] ".concat(R?"bg-[#1A1A1A]":""),tabIndex:0,onClick:function(e){e.preventDefault(),C("tracklist"),u(),R?M():b(s)},onKeyDown:function(e){"Enter"===e.key||" "===e.key?(e.preventDefault(),u(),R?M():b(s)):P(e,"tracklist")},onFocus:()=>L(!0),onBlur:()=>L(!1),children:[(0,t.jsx)("td",{className:"w-10 py-[2px] pl-3 pr-2 text-center tabular-nums",children:R&&z?(0,t.jsxs)("div",{className:"mx-auto flex size-[0.65rem] items-end justify-center space-x-[2px]",children:[(0,t.jsx)("div",{className:"animate-now-playing-1 w-1 bg-neutral-600"}),(0,t.jsx)("div",{className:"animate-now-playing-2 w-1 bg-neutral-600 [animation-delay:0.2s]"}),(0,t.jsx)("div",{className:"animate-now-playing-3 w-1 bg-neutral-600 [animation-delay:0.4s]"})]}):(0,t.jsx)("span",{className:"text-gray-400",children:l+1})}),(0,t.jsx)("td",{className:"px-2 py-[2px]",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"relative mr-2 size-5",children:(0,t.jsx)(h(),{src:s.imageUrl||"/placeholder.svg",alt:"".concat(s.album," cover"),fill:!0,className:"object-cover",sizes:"40px"})}),(0,t.jsxs)("div",{className:"max-w-[180px] truncate font-medium text-[#d1d5db] sm:max-w-[200px]",children:[(0,S.Sw)(s.name,r),(0,t.jsxs)("span",{className:"ml-1 text-gray-400 sm:hidden",children:["â€¢ ",(0,S.Sw)(s.album,r)]})]})]})}),(0,t.jsx)("td",{className:"hidden max-w-40 truncate px-2 py-[2px] text-[#d1d5db] sm:table-cell",children:(0,S.Sw)(s.artist,r)}),(0,t.jsx)("td",{className:"hidden px-2 py-[2px] text-[#d1d5db] md:table-cell",children:(0,S.Sw)(s.album,r)}),(0,t.jsx)("td",{className:"hidden px-2 py-[2px] text-[#d1d5db] md:table-cell",children:(0,S.Sw)(s.type,r)}),(0,t.jsx)("td",{className:"px-2 py-[2px] tabular-nums text-[#d1d5db]",children:(0,S.a3)(s.duration)}),(0,t.jsx)("td",{className:"px-2 py-[2px]",children:(0,t.jsx)("div",{className:"opacity-0 transition-opacity group-hover:opacity-100",children:(0,t.jsxs)(y.rI,{children:[(0,t.jsx)(y.ty,{asChild:!0,children:(0,t.jsxs)(f.$,{variant:"ghost",size:"icon",className:"size-5 text-gray-400 hover:text-white focus:text-white",children:[(0,t.jsx)(n,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Track options"})]})}),(0,t.jsxs)(y.SQ,{align:"end",className:"w-48",children:[(0,t.jsx)(y._2,{className:"text-xs",onClick:e=>{e.stopPropagation(),R?M():b(s)},children:R&&z?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.A,{className:"mr-2 size-3"}),"Pause"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.A,{className:"mr-2 size-3"}),"Play"]})}),A?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(y._2,{className:"text-xs",onClick:e=>{e.stopPropagation(),N(s.id)},children:[(0,t.jsx)(d.A,{className:"mr-2 size-3"}),"Delete"]}),p?(0,t.jsxs)(y._2,{className:"text-xs",onClick:e=>{e.stopPropagation(),v(p,s.id)},children:[(0,t.jsx)(o,{className:"mr-2 size-3"}),"Delete from Playlist"]}):null,(0,t.jsxs)(y.lv,{children:[(0,t.jsxs)(y.nV,{className:"text-xs",children:[(0,t.jsx)(x.A,{className:"mr-2 size-3"}),"Add to Playlist"]}),(0,t.jsx)(y.M5,{className:"w-48",children:_.map(e=>(0,t.jsx)(y._2,{className:"text-xs",onClick:l=>{l.stopPropagation(),g(e.id,s.id)},children:e.name},e.id))})]})]}):null]})]})})}),(m||E)&&(0,t.jsx)("td",{className:"pointer-events-none absolute inset-0 border border-[#1e3a8a]",colSpan:6})]})}function z(e){let{playlist:s,query:l}=e,r=(0,a.useRef)(null),{registerPanelRef:n,setActivePanel:c,setPlaylist:i}=(0,k.N)(),[d,o]=(0,a.useState)(null),[x,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{n("tracklist",r)},[n]),(0,a.useEffect)(()=>{i(s.songs)},[s.songs,i]);let u=(0,a.useMemo)(()=>{let e=[...s.songs];return null!==x&&e.sort((e,s)=>{if(!e||!s||!x||!x.key)return 0;let l=e[x.key],t=s[x.key];return null==l||null==t?0:l<t?"asc"===x.direction?-1:1:l>t?"asc"===x.direction?1:-1:0}),e},[s.songs,x]),p=e=>{if((null==x?void 0:x.direction)==="desc"){m(null);return}let s="asc";x&&x.key===e&&"asc"===x.direction&&(s="desc"),m({key:e,direction:s})};return(0,t.jsxs)("table",{ref:r,className:"w-full text-xs",onClick:()=>c("tracklist"),children:[(0,t.jsx)("thead",{className:"sticky top-0 z-10 border-b border-[#282828] bg-[#0A0A0A]",children:(0,t.jsxs)("tr",{className:"text-left text-gray-400",children:[(0,t.jsx)("th",{className:"w-10 py-2 pl-3 pr-2 font-medium",children:"#"}),(0,t.jsx)(C,{title:"Title",sortConfig:x,requestSort:p,columnKey:"name"}),(0,t.jsx)(C,{title:"Artist",sortConfig:x,requestSort:p,columnKey:"artist",className:"hidden sm:table-cell"}),(0,t.jsx)(C,{title:"Album",sortConfig:x,requestSort:p,columnKey:"album",className:"hidden md:table-cell"}),(0,t.jsx)(C,{title:"Type",sortConfig:x,requestSort:p,columnKey:"type",className:"hidden md:table-cell"}),(0,t.jsx)(C,{title:"Duration",sortConfig:x,requestSort:p,columnKey:"duration"})]})}),(0,t.jsx)("tbody",{className:"mt-px",children:u.map((e,a)=>(0,t.jsx)(M,{track:e,index:a,query:l,isSelected:d===e.id,onSelect:()=>o(e.id),playlistId:null==s?void 0:s.id},e.id))})]})}let C=e=>{let{title:s,sortConfig:l,requestSort:a,columnKey:r,className:n}=e;return(0,t.jsx)("th",{className:(0,S.cn)(" cursor-pointer select-none p-2 font-medium",n),onClick:()=>a(r),children:(0,t.jsxs)("p",{className:"flex items-center",children:[s,(null==l?void 0:l.key)===r?"asc"===l.direction?(0,t.jsx)(m,{className:"ml-1 size-4"}):(0,t.jsx)(u,{className:"ml-1 size-4"}):null]})})}},4621:(e,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),function(e,s){for(var l in s)Object.defineProperty(e,l,{enumerable:!0,get:s[l]})}(s,{default:function(){return i},getImageProps:function(){return c}});let t=l(7097),a=l(2051),r=l(8327),n=t._(l(9241));function c(e){let{props:s}=(0,a.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,l]of Object.entries(s))void 0===l&&delete s[e];return{props:s}}let i=r.Image}}]);