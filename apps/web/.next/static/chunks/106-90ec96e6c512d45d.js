"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[106],{4458:(e,t,r)=>{r.d(t,{$:()=>d});var n=r(4568),a=r(7620),s=r(7680),i=r(3686),o=r(2233);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",iconXs:"h-6 w-6"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,n.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:r})),ref:t,...c})});d.displayName="Button"},1975:(e,t,r)=>{r.d(t,{M5:()=>m,SQ:()=>v,_2:()=>g,lv:()=>f,nV:()=>p,rI:()=>c,ty:()=>u});var n=r(4568),a=r(7620),s=r(9614),i=r(2002),o=r(2306),l=r(9126),d=r(2233);let c=s.bL,u=s.l9;s.YJ,s.ZL;let f=s.Pb;s.z6;let p=a.forwardRef((e,t)=>{let{className:r,inset:a,children:o,...l}=e;return(0,n.jsxs)(s.ZP,{ref:t,className:(0,d.cn)("focus:bg-accent data-[state=open]:bg-accent flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",r),...l,children:[o,(0,n.jsx)(i.A,{className:"ml-auto"})]})});p.displayName=s.ZP.displayName;let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.G5,{ref:t,className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-32 overflow-hidden rounded-md border p-1 shadow-lg",r),...a})});m.displayName=s.G5.displayName;let v=a.forwardRef((e,t)=>{let{className:r,sideOffset:a=4,...i}=e;return(0,n.jsx)(s.ZL,{children:(0,n.jsx)(s.UC,{ref:t,sideOffset:a,className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-32 overflow-hidden rounded-md border p-1 shadow-md",r),...i})})});v.displayName=s.UC.displayName;let g=a.forwardRef((e,t)=>{let{className:r,inset:a,...i}=e;return(0,n.jsx)(s.q7,{ref:t,className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",r),...i})});g.displayName=s.q7.displayName,a.forwardRef((e,t)=>{let{className:r,children:a,checked:i,...l}=e;return(0,n.jsxs)(s.H_,{ref:t,className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:i,...l,children:[(0,n.jsx)("span",{className:"absolute left-2 flex size-3.5 items-center justify-center",children:(0,n.jsx)(s.VF,{children:(0,n.jsx)(o.A,{className:"size-4"})})}),a]})}).displayName=s.H_.displayName,a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,n.jsxs)(s.hN,{ref:t,className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,n.jsx)("span",{className:"absolute left-2 flex size-3.5 items-center justify-center",children:(0,n.jsx)(s.VF,{children:(0,n.jsx)(l.A,{className:"size-2 fill-current"})})}),a]})}).displayName=s.hN.displayName,a.forwardRef((e,t)=>{let{className:r,inset:a,...i}=e;return(0,n.jsx)(s.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",r),...i})}).displayName=s.JU.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.wv,{ref:t,className:(0,d.cn)("bg-muted -mx-1 my-1 h-px",r),...a})}).displayName=s.wv.displayName},9130:(e,t,r)=>{r.d(t,{N:()=>o,PlaybackProvider:()=>i});var n=r(4568),a=r(7620);let s=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(null),[d,c]=(0,a.useState)(0),[u,f]=(0,a.useState)(0),[p,m]=(0,a.useState)([]),v=(0,a.useRef)(null),{activePanel:g,setActivePanel:b,registerPanelRef:h,handleKeyNavigation:y}=function(){let[e,t]=(0,a.useState)("sidebar"),r=(0,a.useRef)({sidebar:null,tracklist:null}),n=(0,a.useCallback)((e,t)=>{r.current[e]=t},[]),s=(0,a.useCallback)((e,n)=>{var a,s,i,o;let l=r.current[n];if(!(null==l?void 0:l.current))return;let d=Array.from(l.current.querySelectorAll('[tabindex="0"]')),c=d.indexOf(document.activeElement);switch(e.key){case"ArrowDown":case"j":e.preventDefault();{let e=(c+1)%d.length;d[e].focus()}break;case"ArrowUp":case"k":e.preventDefault();{let e=(c-1+d.length)%d.length;d[e].focus()}break;case"h":if("tracklist"===n){e.preventDefault(),t("sidebar");let n=null===(s=r.current.sidebar)||void 0===s?void 0:null===(a=s.current)||void 0===a?void 0:a.querySelector('[tabindex="0"]');null==n||n.focus()}break;case"l":if("sidebar"===n){e.preventDefault(),t("tracklist");let n=null===(o=r.current.tracklist)||void 0===o?void 0:null===(i=o.current)||void 0===i?void 0:i.querySelector('[tabindex="0"]');null==n||n.focus()}}},[]);return{activePanel:e,setActivePanel:t,registerPanelRef:n,handleKeyNavigation:s}}(),x=(0,a.useCallback)(()=>{v.current&&(r?v.current.pause():v.current.play(),i(!r))},[r]),N=(0,a.useCallback)(e=>{l(e),i(!0),c(0),v.current&&(v.current.src=w(e.audioUrl),v.current.play()),b("tracklist")},[b]),_=(0,a.useCallback)(()=>{if(o&&p.length>0){let e=(p.findIndex(e=>e.id===o.id)+1)%p.length;N(p[e])}},[o,p,N]),E=(0,a.useCallback)(()=>{if(o&&p.length>0){let e=(p.findIndex(e=>e.id===o.id)-1+p.length)%p.length;N(p[e])}},[o,p,N]),w=e=>{if(e.startsWith("file://")){let t=e.split("/").pop();return"/api/audio/".concat(encodeURIComponent(t||""))}return e};return(0,a.useEffect)(()=>{let e=e=>{if(" "===e.key&&e.target===document.body)e.preventDefault(),x();else if("/"===e.key){e.preventDefault();let t=document.querySelector('input[type="search"]');null==t||t.focus()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[x]),(0,a.useEffect)(()=>{let e=()=>{p.length>0?_():i(!1)},t=v.current;return t&&t.addEventListener("ended",e),()=>{t&&t.removeEventListener("ended",e)}},[p,_]),(0,n.jsx)(s.Provider,{value:{isPlaying:r,currentTrack:o,currentTime:d,duration:u,togglePlayPause:x,playTrack:N,playNextTrack:_,playPreviousTrack:E,setCurrentTime:c,setDuration:f,setPlaylist:m,audioRef:v,activePanel:g,setActivePanel:b,registerPanelRef:h,handleKeyNavigation:y},children:t})}function o(){let e=(0,a.useContext)(s);if(void 0===e)throw Error("usePlayback must be used within a PlaybackProvider");return e}},4051:(e,t,r)=>{r.d(t,{PlaylistProvider:()=>i,W:()=>o});var n=r(4568),a=r(7620);let s=(0,a.createContext)(void 0);function i(e){let{children:t,playlistsPromise:r}=e,i=(0,a.use)(r),[o,l]=(0,a.useOptimistic)(i,(e,t)=>{switch(t.type){case"update":return e.map(e=>e.id===t.id?{...e,...t.updates}:e);case"delete":return e.filter(e=>e.id!==t.id);default:return e}}),d=(e,t)=>{l({type:"update",id:e,updates:t})},c=e=>{l({type:"delete",id:e})},u=(0,a.useMemo)(()=>({playlists:o,updatePlaylist:d,deletePlaylist:c}),[o]);return(0,n.jsx)(s.Provider,{value:u,children:t})}function o(){let e=(0,a.useContext)(s);if(void 0===e)throw Error("usePlaylist must be used within a PlaylistProvider");return e}},2233:(e,t,r)=>{r.d(t,{CY:()=>o,Sw:()=>d,a3:()=>l,cn:()=>i});var n=r(4568),a=r(5928),s=r(6564);let i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))},o=e=>{let t=[];return e.forEach(e=>{if(e.includes("https://pillowcase.su")||e.includes("https://plwcse.top")){var r;let n=null===(r=e.match(/\/f\/([a-f0-9]{32})/))||void 0===r?void 0:r[1];if(n)return t.push({link:"https://api.plwcse.top/api/download/".concat(n),isPillowcase:!0})}else if(e.includes("https://music.froste.lol/"))return console.log(e),t.push({link:"".concat(e,"/file"),isPillowcase:!0});return t.push({link:e,isPillowcase:!1})}),t};function l(e){if(isNaN(e)||e<0)return"0:00";let t=Math.floor(e/60),r=Math.floor(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(r)}function d(e,t){return t?e.split(RegExp("(".concat(t,")"),"gi")).map((e,r)=>e.toLowerCase()===t.toLowerCase()?(0,n.jsx)("mark",{className:"bg-yellow-200 text-black",children:e},r):e):e}},5428:(e,t,r)=>{r.d(t,{_:()=>i});var n=r(6077),a=r(8774),s=r(1205);let i=(0,n.w)({server:{GOOGLE_SITE_VERIFICATION_ID:a.z.string().min(1).optional(),APP_URL:a.z.string().url().min(1),CLOUDINARY_CLOUD_NAME:a.z.string().min(1),CLOUDINARY_API_KEY:a.z.string().min(1),CLOUDINARY_API_SECRET:a.z.string().min(1),DEVELOPMENT:a.z.boolean()},client:{NEXT_PUBLIC_APP_URL:a.z.string().url().min(1),NEXT_PUBLIC_DEVELOPMENT:a.z.boolean()},runtimeEnv:{APP_URL:s.env.APP_URL,GOOGLE_SITE_VERIFICATION_ID:s.env.GOOGLE_SITE_VERIFICATION_ID,NEXT_PUBLIC_APP_URL:s.env.NEXT_PUBLIC_APP_URL,CLOUDINARY_CLOUD_NAME:s.env.CLOUDINARY_CLOUD_NAME,CLOUDINARY_API_KEY:s.env.CLOUDINARY_API_KEY,CLOUDINARY_API_SECRET:s.env.CLOUDINARY_API_SECRET,NEXT_PUBLIC_DEVELOPMENT:!1,DEVELOPMENT:!1}})}}]);