(()=>{var e={};e.id=385,e.ids=[385],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},11723:e=>{"use strict";e.exports=require("querystring")},27910:e=>{"use strict";e.exports=require("stream")},6378:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},51455:e=>{"use strict";e.exports=require("node:fs/promises")},43070:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=r(90735),i=r(91232),a=r(72914),n=r.n(a),o=r(40085),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["player",{children:["p",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,54888)),"/workspace/apps/web/src/app/player/p/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,26288)),"/workspace/apps/web/src/app/player/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2983)),"/workspace/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,68270,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,95335,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,44908,23)),"next/dist/client/components/unauthorized-error"]}],d=["/workspace/apps/web/src/app/player/p/[id]/page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/player/p/[id]/page",pathname:"/player/p/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},83274:(e,t,r)=>{Promise.resolve().then(r.bind(r,81419)),Promise.resolve().then(r.bind(r,55177)),Promise.resolve().then(r.bind(r,23883)),Promise.resolve().then(r.bind(r,92390)),Promise.resolve().then(r.t.bind(r,53648,23))},23026:(e,t,r)=>{Promise.resolve().then(r.bind(r,1963)),Promise.resolve().then(r.bind(r,30177)),Promise.resolve().then(r.bind(r,16283)),Promise.resolve().then(r.bind(r,89221)),Promise.resolve().then(r.t.bind(r,36888,23))},30177:(e,t,r)=>{"use strict";r.d(t,{CoverImage:()=>p});var s=r(42725),i=r(91616),a=r(41290);let n=(0,r(78630).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var o=r(16774),l=r(8441);let c=(0,l.createServerReference)("6023b5a39c8a7a4b46b6992f3aca4f3e912c0b9ffd",l.callServer,void 0,l.findSourceMapURL,"uploadPlaylistCoverAction"),d=o._.NEXT_PUBLIC_DEVELOPMENT;function p({url:e,playlistId:t}){let[r,o,l]=(0,i.useActionState)(c,{success:!1,coverUrl:""}),p=r?.success?r.coverUrl:e;return p||!d?(0,s.jsx)("img",{src:p||"/placeholder.svg",alt:"Playlist cover",className:"size-16 object-cover sm:size-20"}):(0,s.jsxs)("form",{action:o,children:[(0,s.jsx)("input",{type:"hidden",name:"playlistId",value:t}),(0,s.jsxs)("label",{htmlFor:"coverUpload",className:"flex size-16 cursor-pointer flex-col items-center justify-center rounded border border-dashed border-neutral-700 text-white sm:size-20",children:[(0,s.jsx)("input",{id:"coverUpload",type:"file",name:"file",accept:"image/*",className:"hidden",onChange:e=>{let t=e.target.files?.[0];t&&(t.size<=5242880?e.target.form?.requestSubmit():(alert("File size exceeds 5MB limit"),e.target.value=""))}}),l?(0,s.jsx)(a.A,{className:"size-5 animate-spin text-neutral-600"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n,{className:"mb-1 size-3"}),(0,s.jsx)("span",{className:"text-center text-xs",children:"Upload"})]})]})]})}},16283:(e,t,r)=>{"use strict";r.d(t,{EditableTitle:()=>p});var s=r(42725),i=r(91616),a=r(99912),n=r(16774),o=r(8441);let l=(0,o.createServerReference)("605cbcecb84ee7b33a16b8b9b2d1aa753bd82c61d3",o.callServer,void 0,o.findSourceMapURL,"updatePlaylistNameAction");var c=r(57175);let d=n._.NEXT_PUBLIC_DEVELOPMENT;function p({playlistId:e,initialName:t}){let[r,n]=(0,i.useState)(!1),[o,p]=(0,i.useState)(t),u=(0,i.useRef)(null),{updatePlaylist:x}=(0,c.W)();if(!d)return(0,s.jsx)("h1",{className:"text-xl font-bold sm:text-2xl",tabIndex:0,children:t});let m=async r=>{r.preventDefault(),n(!1),""!==o.trim()&&o!==t?(x(e,{name:o}),await l(e,o)):p(t)};return r?(0,s.jsx)("form",{onSubmit:m,children:(0,s.jsx)(a.p,{ref:u,type:"text",value:o,onChange:e=>p(e.target.value),onBlur:()=>n(!1),className:"border-none bg-transparent text-xl font-bold focus:ring-0 sm:text-2xl"})}):(0,s.jsx)("h1",{className:"cursor-pointer text-xl font-bold sm:text-2xl",onClick:()=>n(!0),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),n(!0))},tabIndex:0,children:o})}},54888:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(91069),i=r(70097),a=r(99872),n=r(73881),o=r(53648),l=r.n(o),c=r(45796),d=r(41658),p=r(81419),u=r(55177),x=r(23883),m=r(92390),v=r(33507),f=r(28627);async function h({params:e}){let t=(await e).id,r=await (0,v.HT)(t);r||(0,c.notFound)();let o=await (0,v.BY)(r.createdAt);return(0,s.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden bg-[#0A0A0A] pb-[69px]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between bg-[#0A0A0A] p-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(l(),{href:"/player",passHref:!0,children:(0,s.jsx)(d.$,{variant:"ghost",size:"icon",className:"size-7",children:(0,s.jsx)(i.A,{className:"size-4"})})}),o?(0,s.jsx)(l(),{href:`/player/p/${o}`,passHref:!0,children:(0,s.jsx)(d.$,{variant:"ghost",size:"icon",className:"size-7",children:(0,s.jsx)(a.A,{className:"size-4"})})}):(0,s.jsx)(d.$,{variant:"ghost",size:"icon",className:"size-7",disabled:!0,children:(0,s.jsx)(a.A,{className:"size-4"})}),(0,s.jsx)("span",{className:"text-sm",children:r.name})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.$,{variant:"secondary",className:"h-7 bg-[#282828] text-xs text-white hover:bg-[#3E3E3E]",children:"Play All"}),(0,s.jsx)(d.$,{variant:"ghost",size:"icon",className:"size-7",children:(0,s.jsx)(n.A,{className:"size-4"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 bg-[#0A0A0A] px-4 py-3",children:[(0,s.jsx)(u.CoverImage,{url:r.coverUrl,playlistId:r.id}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.EditableTitle,{playlistId:r.id,initialName:r.name}),(0,s.jsxs)("p",{className:"text-xs text-gray-400 sm:text-sm",children:[r.trackCount," tracks • ",(0,f.a3)(r.duration)]})]})]}),(0,s.jsxs)(p.ScrollArea,{className:"mt-3 flex-1",children:[(0,s.jsx)("div",{className:"min-w-max",children:(0,s.jsx)(m.TrackTable,{playlist:r})}),(0,s.jsx)(p.ScrollBar,{orientation:"horizontal"})]})]})}},41658:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>l});var s=r(91069),i=r(22728),a=r(33442),n=r(77394),o=r(28627);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",iconXs:"h-6 w-6"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...n},c)=>{let d=i?a.DX:"button";return(0,s.jsx)(d,{className:(0,o.cn)(l({variant:t,size:r,className:e})),ref:c,...n})});c.displayName="Button"},55177:(e,t,r)=>{"use strict";r.d(t,{CoverImage:()=>s});let s=(0,r(72771).registerClientReference)(function(){throw Error("Attempted to call CoverImage() from the server but CoverImage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspace/apps/web/src/features/player/components/tracks/cover-image.tsx","CoverImage")},23883:(e,t,r)=>{"use strict";r.d(t,{EditableTitle:()=>s});let s=(0,r(72771).registerClientReference)(function(){throw Error("Attempted to call EditableTitle() from the server but EditableTitle is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspace/apps/web/src/features/player/components/tracks/editable-title.tsx","EditableTitle")},28627:(e,t,r)=>{"use strict";r.d(t,{a3:()=>l,cn:()=>a,ov:()=>n,rc:()=>o}),r(91069);var s=r(66190),i=r(81986);let a=(...e)=>(0,i.QP)((0,s.$)(e)),n=e=>({notice:Object.entries({"⭐":"Best Of","✨":"Special","\uD83C\uDFC6":"Grails","\uD83E\uDD47":"Wanted","\uD83E\uDD48":"Wanted","\uD83E\uDD49":"Wanted","\uD83D\uDDD1️":"Worst Of","\uD83E\uDD16":"AI Ref Track"}).find(([t])=>e?.startsWith(t))?.[1]??null,name:e?.replace(/^(?:⭐|✨|🏆|🥇|🥈|🥉|🗑|🤖) ?/,"")??""}),o=e=>e&&"N/A"!==e?e.split("\n").map(e=>e.trim()):[];function l(e){if(isNaN(e)||e<0)return"0:00";let t=Math.floor(e/60),r=Math.floor(e%60).toString().padStart(2,"0");return`${t}:${r}`}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[79,81,357,63,659,444,494,586,952],()=>r(43070));module.exports=s})();