"use strict";exports.id=952,exports.ids=[952],exports.modules={89221:(e,s,t)=>{t.d(s,{TrackTable:()=>A});var a=t(42725),l=t(91616),r=t(95785),n=t(94230),c=t(81292),i=t(18782),o=t(61595),d=t(42798),m=t(58322),x=t(78826),p=t(34088),u=t(17466),h=t(96217),b=t(16774),f=t(8441);let j=(0,f.createServerReference)("409b02d1de0c2d8b7cfefb388b737c9e5e9b79265e",f.callServer,void 0,f.findSourceMapURL,"deleteSongAction"),y=(0,f.createServerReference)("60efebe347c9011bbd38a1fcfc8343576810a3da82",f.callServer,void 0,f.findSourceMapURL,"deleteSongFromPlaylistAction"),N=(0,f.createServerReference)("601bed3c836eddf523c251be7fdbb5f43392e93cd4",f.callServer,void 0,f.findSourceMapURL,"addToPlaylistAction");var v=t(67670),g=t(57175),S=t(83779);let k=b._.NEXT_PUBLIC_DEVELOPMENT;function w({track:e,index:s,query:t,isSelected:m,onSelect:x,playlistId:b}){let{currentTrack:f,playTrack:w,togglePlayPause:A,isPlaying:C,setActivePanel:T,handleKeyNavigation:z}=(0,v.N)(),{playlists:P}=(0,g.W)(),[R,E]=(0,l.useState)(!1),D=f?.name===e.name;return(0,a.jsxs)("tr",{className:`group relative cursor-pointer select-none hover:bg-[#1A1A1A] ${D?"bg-[#1A1A1A]":""}`,tabIndex:0,onClick:function(s){s.preventDefault(),T("tracklist"),x(),D?A():w(e)},onKeyDown:function(s){"Enter"===s.key||" "===s.key?(s.preventDefault(),x(),D?A():w(e)):z(s,"tracklist")},onFocus:()=>E(!0),onBlur:()=>E(!1),children:[(0,a.jsx)("td",{className:"w-10 py-[2px] pl-3 pr-2 text-center tabular-nums",children:D&&C?(0,a.jsxs)("div",{className:"mx-auto flex size-[0.65rem] items-end justify-center space-x-[2px]",children:[(0,a.jsx)("div",{className:"animate-now-playing-1 w-1 bg-neutral-600"}),(0,a.jsx)("div",{className:"animate-now-playing-2 w-1 bg-neutral-600 [animation-delay:0.2s]"}),(0,a.jsx)("div",{className:"animate-now-playing-3 w-1 bg-neutral-600 [animation-delay:0.4s]"})]}):(0,a.jsx)("span",{className:"text-gray-400",children:s+1})}),(0,a.jsx)("td",{className:"px-2 py-[2px]",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"relative mr-2 size-5",children:(0,a.jsx)(p.default,{src:e.imageUrl||"/placeholder.svg",alt:`${e.album} cover`,fill:!0,className:"object-cover",sizes:"40px"})}),(0,a.jsxs)("div",{className:"max-w-[180px] truncate font-medium text-[#d1d5db] sm:max-w-[200px]",children:[(0,S.Sw)(e.name,t),(0,a.jsxs)("span",{className:"ml-1 text-gray-400 sm:hidden",children:["â€¢ ",(0,S.Sw)(e.album,t)]})]})]})}),(0,a.jsx)("td",{className:"hidden max-w-40 truncate px-2 py-[2px] text-[#d1d5db] sm:table-cell",children:(0,S.Sw)(e.artist,t)}),(0,a.jsx)("td",{className:"hidden px-2 py-[2px] text-[#d1d5db] md:table-cell",children:(0,S.Sw)(e.album,t)}),(0,a.jsx)("td",{className:"hidden px-2 py-[2px] text-[#d1d5db] md:table-cell",children:(0,S.Sw)(e.type,t)}),(0,a.jsx)("td",{className:"px-2 py-[2px] tabular-nums text-[#d1d5db]",children:(0,S.a3)(e.duration)}),(0,a.jsx)("td",{className:"px-2 py-[2px]",children:(0,a.jsx)("div",{className:"opacity-0 transition-opacity group-hover:opacity-100",children:(0,a.jsxs)(h.rI,{children:[(0,a.jsx)(h.ty,{asChild:!0,children:(0,a.jsxs)(u.$,{variant:"ghost",size:"icon",className:"size-5 text-gray-400 hover:text-white focus:text-white",children:[(0,a.jsx)(r.A,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Track options"})]})}),(0,a.jsxs)(h.SQ,{align:"end",className:"w-48",children:[(0,a.jsx)(h._2,{className:"text-xs",onClick:s=>{s.stopPropagation(),D?A():w(e)},children:D&&C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{className:"mr-2 size-3"}),"Pause"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.A,{className:"mr-2 size-3"}),"Play"]})}),k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h._2,{className:"text-xs",onClick:s=>{s.stopPropagation(),j(e.id)},children:[(0,a.jsx)(i.A,{className:"mr-2 size-3"}),"Delete"]}),b?(0,a.jsxs)(h._2,{className:"text-xs",onClick:s=>{s.stopPropagation(),y(b,e.id)},children:[(0,a.jsx)(o.A,{className:"mr-2 size-3"}),"Delete from Playlist"]}):null,(0,a.jsxs)(h.lv,{children:[(0,a.jsxs)(h.nV,{className:"text-xs",children:[(0,a.jsx)(d.A,{className:"mr-2 size-3"}),"Add to Playlist"]}),(0,a.jsx)(h.M5,{className:"w-48",children:P.map(s=>(0,a.jsx)(h._2,{className:"text-xs",onClick:t=>{t.stopPropagation(),N(s.id,e.id)},children:s.name},s.id))})]})]}):null]})]})})}),(m||R)&&(0,a.jsx)("td",{className:"pointer-events-none absolute inset-0 border border-[#1e3a8a]",colSpan:6})]})}function A({playlist:e,query:s}){let t=(0,l.useRef)(null),{registerPanelRef:r,setActivePanel:n,setPlaylist:c}=(0,v.N)(),[i,o]=(0,l.useState)(null),[d,m]=(0,l.useState)(null),x=(0,l.useMemo)(()=>{let s=[...e.songs];return null!==d&&s.sort((e,s)=>{if(!e||!s||!d||!d.key)return 0;let t=e[d.key],a=s[d.key];return null==t||null==a?0:t<a?"asc"===d.direction?-1:1:t>a?"asc"===d.direction?1:-1:0}),s},[e.songs,d]),p=e=>{if(d?.direction==="desc"){m(null);return}let s="asc";d&&d.key===e&&"asc"===d.direction&&(s="desc"),m({key:e,direction:s})};return(0,a.jsxs)("table",{ref:t,className:"w-full text-xs",onClick:()=>n("tracklist"),children:[(0,a.jsx)("thead",{className:"sticky top-0 z-10 border-b border-[#282828] bg-[#0A0A0A]",children:(0,a.jsxs)("tr",{className:"text-left text-gray-400",children:[(0,a.jsx)("th",{className:"w-10 py-2 pl-3 pr-2 font-medium",children:"#"}),(0,a.jsx)(C,{title:"Title",sortConfig:d,requestSort:p,columnKey:"name"}),(0,a.jsx)(C,{title:"Artist",sortConfig:d,requestSort:p,columnKey:"artist",className:"hidden sm:table-cell"}),(0,a.jsx)(C,{title:"Album",sortConfig:d,requestSort:p,columnKey:"album",className:"hidden md:table-cell"}),(0,a.jsx)(C,{title:"Type",sortConfig:d,requestSort:p,columnKey:"type",className:"hidden md:table-cell"}),(0,a.jsx)(C,{title:"Duration",sortConfig:d,requestSort:p,columnKey:"duration"})]})}),(0,a.jsx)("tbody",{className:"mt-px",children:x.map((t,l)=>(0,a.jsx)(w,{track:t,index:l,query:s,isSelected:i===t.id,onSelect:()=>o(t.id),playlistId:e?.id},t.id))})]})}let C=({title:e,sortConfig:s,requestSort:t,columnKey:l,className:r})=>(0,a.jsx)("th",{className:(0,S.cn)(" cursor-pointer select-none p-2 font-medium",r),onClick:()=>t(l),children:(0,a.jsxs)("p",{className:"flex items-center",children:[e,s?.key===l?"asc"===s.direction?(0,a.jsx)(m.A,{className:"ml-1 size-4"}):(0,a.jsx)(x.A,{className:"ml-1 size-4"}):null]})})},81419:(e,s,t)=>{t.d(s,{ScrollArea:()=>l,ScrollBar:()=>r});var a=t(72771);let l=(0,a.registerClientReference)(function(){throw Error("Attempted to call ScrollArea() from the server but ScrollArea is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspace/apps/web/src/components/ui/scroll-area.tsx","ScrollArea"),r=(0,a.registerClientReference)(function(){throw Error("Attempted to call ScrollBar() from the server but ScrollBar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspace/apps/web/src/components/ui/scroll-area.tsx","ScrollBar")},92390:(e,s,t)=>{t.d(s,{TrackTable:()=>a});let a=(0,t(72771).registerClientReference)(function(){throw Error("Attempted to call TrackTable() from the server but TrackTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspace/apps/web/src/features/player/components/tracks/track-table.tsx","TrackTable")}};